[
    {
        "title": "Natural Language Database Querying",
        "description": "Turn plain English questions into executing PostgreSQL queries using a multi-step AI pipeline.",
        "mechanics": [
            {
                "step": "1. Gemini",
                "description": "Converts your natural language request (e.g., 'get users over 25') into a PostgreSQL SQL query."
            },
            {
                "step": "2. Regex",
                "description": "Extracts only the SQL code from Gemini's markdown response to ensure the query is clean and executable."
            },
            {
                "step": "3. PostgreSQL",
                "description": "Executes the cleaned SQL query against your PostgreSQL database using the provided DATABASE_URL."
            }
        ],
        "jsonCode": {
            "postgres": [
                "$env:DATABASE_URL",
                {
                    "regex": [
                        {
                            "gemini": [
                                "$env:GEMINI_API_KEY",
                                "gemini-2.5-flash",
                                {
                                    "add": [
                                        "you are a postgres agent, you only output PostgreSQL query.",
                                        "get all the users from users table whose age is above 25."
                                    ]
                                }
                            ]
                        },
                        "```sql\\s*([\\s\\S]*?)```"
                    ]
                }
            ]
        }
    },
    {
        "title": "Automated Data Analysis",
        "description": "Fetch raw data from your PostgreSQL database and let an AI agent automatically generate meaningful insights.",
        "mechanics": [
            {
                "step": "1. PostgreSQL",
                "description": "Executes a SQL query (e.g., 'SELECT * FROM users') and retrieves raw rows from the database."
            },
            {
                "step": "2. JSON Stringify",
                "description": "Converts the database result array into a string so the AI can easily understand the structure."
            },
            {
                "step": "3. Add",
                "description": "Appends an analysis instruction prompt (e.g., 'Analyze this data...') to the stringified data."
            },
            {
                "step": "4. Gemini",
                "description": "Processes the combined context and generates insights, summaries, or analysis about the dataset."
            }
        ],
        "jsonCode": {
            "gemini": [
                "$env:GEMINI_API_KEY",
                "gemini-2.5-flash",
                {
                    "add": [
                        {
                            "jsonStringify": [
                                {
                                    "postgres": [
                                        "$env:DATABASE_URL",
                                        "SELECT * FROM users;\n"
                                    ]
                                }
                            ]
                        },
                        "you are a data analysis agent, analyze the provided data."
                    ]
                }
            ]
        }
    },
    {
        "title": "Todo Reminder Assistant",
        "description": "Fetches your TODO item from an API and turns it into a natural reminder.",
        "mechanics": [
            {
                "step": "1. httpRequest",
                "description": "Fetches a TODO item from a REST API using the ID you provide."
            },
            {
                "step": "2. jsonStringify",
                "description": "Converts the HTTP response into a JSON string so Gemini can read it cleanly."
            },
            {
                "step": "3. Gemini",
                "description": "Takes the API response and turns it into a friendly reminder message."
            }
        ],
        "jsonCode": {
            "gemini": [
                "$env:GEMINI_API_KEY",
                "gemini-2.5-flash",
                {
                    "add": [
                        {
                            "jsonStringify": [
                                {
                                    "httpRequest": [
                                        {
                                            "add": [
                                                "https://jsonplaceholder.typicode.com/todos/",
                                                "$query:x"
                                            ]
                                        },
                                        "GET"
                                    ]
                                }
                            ]
                        },
                        "This is the response from my TODO API. Convert it into a reminder about what I need to do."
                    ]
                }
            ]
        }
    }
]